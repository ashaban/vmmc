{"remainingRequest":"/home/ashaban/vmmc/frontend/node_modules/babel-loader/lib/index.js!/home/ashaban/vmmc/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ashaban/vmmc/frontend/src/components/questions/Module1Admin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ashaban/vmmc/frontend/src/components/questions/Module1Admin.vue","mtime":1547041813881},{"path":"/home/ashaban/vmmc/frontend/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/home/ashaban/vmmc/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/ashaban/vmmc/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar module1 = require('./module1.js');\n\nimport { required } from 'vuelidate/lib/validators';\nimport axios from 'axios';\n\nvar config = require('../../../config');\n\nvar isProduction = process.env.NODE_ENV === 'production';\nvar backendServer = isProduction ? config.build.backend : config.dev.backend;\nexport default {\n  validations: {\n    situationText: {\n      required: required\n    },\n    choice1: {\n      required: required\n    },\n    choice1Comment: {\n      required: required\n    },\n    choice1Impact: {\n      required: required\n    },\n    choice2: {\n      required: required\n    },\n    choice2Comment: {\n      required: required\n    },\n    choice2Impact: {\n      required: required\n    },\n    choice3: {\n      required: required\n    },\n    choice3Comment: {\n      required: required\n    },\n    choice3Impact: {\n      required: required\n    }\n  },\n  data: function data() {\n    return {\n      imageName: '',\n      imageUrl: '',\n      imageFile: '',\n      clients: Object.keys(module1),\n      questions: module1,\n      addQnDialog: false,\n      situationText: \"\",\n      choice1: \"\",\n      choice1Comment: \"\",\n      choice1Impact: \"\",\n      choice2: \"\",\n      choice2Comment: \"\",\n      choice2Impact: \"\",\n      choice3: \"\",\n      choice3Comment: \"\",\n      choice3Impact: \"\",\n      activeClient: \"\"\n    };\n  },\n  methods: {\n    displayAddQnDialog: function displayAddQnDialog(client) {\n      this.addQnDialog = true;\n      this.activeClient = client;\n    },\n    pickFile: function pickFile() {\n      this.$refs.image.click();\n    },\n    onFilePicked: function onFilePicked(e) {\n      var _this = this;\n\n      var files = e.target.files;\n\n      if (files[0] !== undefined) {\n        this.imageName = files[0].name;\n\n        if (this.imageName.lastIndexOf('.') <= 0) {\n          return;\n        }\n\n        var fr = new FileReader();\n        fr.readAsDataURL(files[0]);\n        fr.addEventListener('load', function () {\n          _this.imageUrl = fr.result;\n          _this.imageFile = files[0]; // this is an image file that can be sent to server...\n        });\n      } else {\n        this.imageName = '';\n        this.imageFile = '';\n        this.imageUrl = '';\n      }\n    },\n    saveQuestion: function saveQuestion() {\n      var formData = new FormData();\n      formData.append('client', this.activeClient);\n      formData.append('situationText', this.situationText);\n      formData.append('choice1', this.choice1);\n      formData.append('choice1Comment', this.choice1Comment);\n      formData.append('choice1Impact', this.choice1Impact);\n      formData.append('choice2', this.choice2);\n      formData.append('choice2Comment', this.choice2Comment);\n      formData.append('choice2Impact', this.choice2Impact);\n      formData.append('choice3', this.choice3);\n      formData.append('choice3Comment', this.choice3Comment);\n      formData.append('choice3Impact', this.choice3Impact);\n      formData.append('image', this.imageFile);\n      axios.post(backendServer + '/saveModule2Question/', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(function () {// this.addQnDialog = false\n      });\n    }\n  },\n  computed: {\n    situationTextErrors: function situationTextErrors() {\n      var errors = [];\n      if (!this.$v.situationText.$dirty) return errors;\n      !this.$v.situationText.required && errors.push('situation Text is required');\n      return errors;\n    },\n    choice1Errors: function choice1Errors() {\n      var errors = [];\n      if (!this.$v.choice1.$dirty) return errors;\n      !this.$v.choice1.required && errors.push('choice1 Text is required');\n      return errors;\n    },\n    choice1CommentErrors: function choice1CommentErrors() {\n      var errors = [];\n      if (!this.$v.choice1Comment.$dirty) return errors;\n      !this.$v.choice1Comment.required && errors.push('situation Text is required');\n      return errors;\n    },\n    choice1ImpactErrors: function choice1ImpactErrors() {\n      var errors = [];\n      if (!this.$v.choice1Impact.$dirty) return errors;\n      !this.$v.choice1Impact.required && errors.push('Choice1 Impact Text is required');\n\n      if (parseInt(this.choice1Impact) !== 0) {\n        if (this.choice1Impact[0] !== undefined) {\n          if (this.choice1Impact[0] !== \"-\" && this.choice1Impact[0] !== \"+\") {\n            errors.push(\"Impact must start with + or -\");\n          } else if (!Number.isInteger(parseInt(this.choice1Impact[1]))) {\n            errors.push(\"Impact must be a number\");\n          }\n        }\n      }\n\n      return errors;\n    },\n    choice2Errors: function choice2Errors() {\n      var errors = [];\n      if (!this.$v.choice2.$dirty) return errors;\n      !this.$v.choice2.required && errors.push('choice2 Text is required');\n      return errors;\n    },\n    choice2CommentErrors: function choice2CommentErrors() {\n      var errors = [];\n      if (!this.$v.choice2Comment.$dirty) return errors;\n      !this.$v.choice2Comment.required && errors.push('situation Text is required');\n      return errors;\n    },\n    choice2ImpactErrors: function choice2ImpactErrors() {\n      var errors = [];\n      if (!this.$v.choice2Impact.$dirty) return errors;\n      !this.$v.choice2Impact.required && errors.push('choice2 Impact Text is required');\n      return errors;\n    },\n    choice3Errors: function choice3Errors() {\n      var errors = [];\n      if (!this.$v.choice3.$dirty) return errors;\n      !this.$v.choice3.required && errors.push('choice3 Text is required');\n      return errors;\n    },\n    choice3CommentErrors: function choice3CommentErrors() {\n      var errors = [];\n      if (!this.$v.choice3Comment.$dirty) return errors;\n      !this.$v.choice3Comment.required && errors.push('situation Text is required');\n      return errors;\n    },\n    choice3ImpactErrors: function choice3ImpactErrors() {\n      var errors = [];\n      if (!this.$v.choice3Impact.$dirty) return errors;\n      !this.$v.choice3Impact.required && errors.push('choice3 Impact Text is required');\n      return errors;\n    }\n  }\n};",{"version":3,"sources":["Module1Admin.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-container>\n    <v-expansion-panel>\n      <v-expansion-panel-content\n        v-for=\"(item,i) in clients.length\"\n        :key=\"i\"\n      >\n        <div slot=\"header\">{{clients[item-1]}}</div>\n        <v-btn color=\"success\" @click='displayAddQnDialog(clients[item-1])'>Add Question</v-btn>\n        <v-card>\n          <v-card-text>\n            <ol>\n              <li v-for=\"(qn, key) in Object.keys(questions[clients[item-1]]).length\">\n                {{questions[clients[item-1]][key].situationText}}\n                <ul>\n                  <li v-for=\"ch in questions[clients[item-1]][key].choices.length\">\n                    <v-list two-line>\n                      <li>\n                        Choice Text -> {{questions[clients[item-1]][key].choices[ch-1].choiceText}}\n                      </li>\n                      <li>\n                        Comment -> {{questions[clients[item-1]][key].choices[ch-1].comment}}\n                      </li>\n                      <li>\n                        Impact -> {{questions[clients[item-1]][key].choices[ch-1].impact}}\n                      </li>\n                    </v-list>\n                  </li>\n                </ul>\n              </li>\n            </ol>\n          </v-card-text>\n        </v-card>\n      </v-expansion-panel-content>\n    </v-expansion-panel>\n\n    <v-dialog persistent v-model=\"addQnDialog\" transition=\"scale-transition\" max-width=\"560px\" max-height=\"647px\">\n      <v-card >\n        <v-toolbar color=\"primary\" dark>\n          <v-toolbar-title>\n            Add Question\n          </v-toolbar-title>\n          <v-spacer></v-spacer>\n          <v-icon @click=\"addQnDialog = false\">close</v-icon>\n        </v-toolbar>\n        <v-card-text>\n          <v-layout column>\n            <v-flex>\n              <v-text-field v-model=\"situationText\" \n                @blur=\"$v.situationText.$touch()\"\n                @change=\"$v.situationText.$touch()\"\n                :error-messages=\"situationTextErrors\"\n                required\n                label=\"Question Text\">\n              </v-text-field>\n            </v-flex>\n            <v-flex xs12 class=\"text-xs-center text-sm-center text-md-center text-lg-center\">\n              <img :src=\"imageUrl\" height=\"150\" v-if=\"imageUrl\"/>\n              <v-text-field label=\"Image\" @click='pickFile' v-model='imageName' prepend-icon='attach_file'></v-text-field>\n              <input\n                type=\"file\"\n                style=\"display: none\"\n                ref=\"image\"\n                accept=\"image/*\"\n                @change=\"onFilePicked\"\n              >\n            </v-flex>\n            <v-flex>\n              <v-text-field v-model=\"choice1\" \n                @blur=\"$v.choice1.$touch()\"\n                @change=\"$v.choice1.$touch()\"\n                :error-messages=\"choice1Errors\"\n                required\n                label=\"Choice1 Text\">\n              </v-text-field>\n            </v-flex>\n            <v-flex>\n              <v-text-field v-model=\"choice1Comment\" \n                @blur=\"$v.choice1Comment.$touch()\"\n                @change=\"$v.choice1Comment.$touch()\"\n                :error-messages=\"choice1CommentErrors\"\n                required\n                label=\"Choice1 Comment\">\n              </v-text-field>\n            </v-flex>\n            <v-flex>\n              <v-text-field v-model=\"choice1Impact\" \n                @blur=\"$v.choice1Impact.$touch()\"\n                @change=\"$v.choice1Impact.$touch()\"\n                :error-messages=\"choice1ImpactErrors\"\n                required\n                label=\"Choice1 Impact\">\n              </v-text-field>\n            </v-flex>\n            <v-toolbar color=\"primary\" height=\"10\" width=\"10\">\n              \n            </v-toolbar>\n            <v-flex>\n              <v-text-field v-model=\"choice2\" \n                @blur=\"$v.choice2.$touch()\"\n                @change=\"$v.choice2.$touch()\"\n                :error-messages=\"choice2Errors\"\n                required\n                label=\"choice2 Text\">\n              </v-text-field>\n            </v-flex>\n            <v-flex>\n              <v-text-field v-model=\"choice2Comment\" \n                @blur=\"$v.choice2Comment.$touch()\"\n                @change=\"$v.choice2Comment.$touch()\"\n                :error-messages=\"choice2CommentErrors\"\n                required\n                label=\"choice2 Comment\">\n              </v-text-field>\n            </v-flex>\n            <v-flex>\n              <v-text-field v-model=\"choice2Impact\" \n                @blur=\"$v.choice2Impact.$touch()\"\n                @change=\"$v.choice2Impact.$touch()\"\n                :error-messages=\"choice2ImpactErrors\"\n                required\n                label=\"choice2 Impact\">\n              </v-text-field>\n            </v-flex>\n            <v-flex>\n              <v-text-field v-model=\"choice3\" \n                @blur=\"$v.choice3.$touch()\"\n                @change=\"$v.choice3.$touch()\"\n                :error-messages=\"choice3Errors\"\n                required\n                label=\"choice3 Text\">\n              </v-text-field>\n            </v-flex>\n            <v-flex>\n              <v-text-field v-model=\"choice3Comment\" \n                @blur=\"$v.choice3Comment.$touch()\"\n                @change=\"$v.choice3Comment.$touch()\"\n                :error-messages=\"choice3CommentErrors\"\n                required\n                label=\"choice3 Comment\">\n              </v-text-field>\n            </v-flex>\n            <v-flex>\n              <v-text-field v-model=\"choice3Impact\" \n                @blur=\"$v.choice3Impact.$touch()\"\n                @change=\"$v.choice3Impact.$touch()\"\n                :error-messages=\"choice3ImpactErrors\"\n                required\n                label=\"choice3 Impact\">\n              </v-text-field>\n            </v-flex>\n          </v-layout>\n        </v-card-text>\n        \n        <v-toolbar color=\"brown lighten-6\">\n          <v-btn color=\"error\" @click.native=\"addQnDialog = false\"><v-icon left>cancel</v-icon> Cancel</v-btn>\n          <v-spacer></v-spacer>\n          <v-btn color=\"primary\" :disabled=\"$v.$invalid\" dark @click=\"saveQuestion\"><v-icon left>save</v-icon>Save Question</v-btn>\n          <v-btn color=\"primary\" @click=\"saveQuestion\"><v-icon left>save</v-icon>Save Question</v-btn>\n        </v-toolbar>\n      </v-card>\n    </v-dialog>\n  </v-container>\n</template>\n<script>\nlet module1 = require('./module1.js')\nimport { required } from 'vuelidate/lib/validators'\nimport axios from 'axios'\nconst config = require('../../../config')\nconst isProduction = process.env.NODE_ENV === 'production'\nconst backendServer = (isProduction ? config.build.backend : config.dev.backend)\nexport default {\n  validations: {\n    situationText: { required },\n    choice1: { required },\n    choice1Comment: { required },\n    choice1Impact: { required },\n    choice2: { required },\n    choice2Comment: { required },\n    choice2Impact: { required },\n    choice3: { required },\n    choice3Comment: { required },\n    choice3Impact: { required },\n  },\n  data () {\n    return {\n      imageName: '',\n      imageUrl: '',\n      imageFile: '',\n      clients: Object.keys(module1),\n      questions: module1,\n      addQnDialog: false,\n      situationText: \"\",\n      choice1: \"\",\n      choice1Comment: \"\",\n      choice1Impact: \"\",\n      choice2: \"\",\n      choice2Comment: \"\",\n      choice2Impact: \"\",\n      choice3: \"\",\n      choice3Comment: \"\",\n      choice3Impact: \"\",\n      activeClient: \"\",\n    }\n  },\n  methods: {\n    displayAddQnDialog (client) {\n      this.addQnDialog = true\n      this.activeClient = client\n    },\n    pickFile () {\n      this.$refs.image.click ()\n    },\n\t\tonFilePicked (e) {\n\t\t\tconst files = e.target.files\n\t\t\tif(files[0] !== undefined) {\n\t\t\t\tthis.imageName = files[0].name\n\t\t\t\tif(this.imageName.lastIndexOf('.') <= 0) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tconst fr = new FileReader ()\n\t\t\t\tfr.readAsDataURL(files[0])\n\t\t\t\tfr.addEventListener('load', () => {\n\t\t\t\t\tthis.imageUrl = fr.result\n\t\t\t\t\tthis.imageFile = files[0] // this is an image file that can be sent to server...\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.imageName = ''\n\t\t\t\tthis.imageFile = ''\n\t\t\t\tthis.imageUrl = ''\n\t\t\t}\n\t\t},\n    saveQuestion () {\n      let formData = new FormData()\n      formData.append('client', this.activeClient)\n      formData.append('situationText', this.situationText)\n      formData.append('choice1', this.choice1)\n      formData.append('choice1Comment', this.choice1Comment)\n      formData.append('choice1Impact', this.choice1Impact)\n      formData.append('choice2', this.choice2)\n      formData.append('choice2Comment', this.choice2Comment)\n      formData.append('choice2Impact', this.choice2Impact)\n      formData.append('choice3', this.choice3)\n      formData.append('choice3Comment', this.choice3Comment)\n      formData.append('choice3Impact', this.choice3Impact)\n      formData.append('image', this.imageFile)\n      axios.post(backendServer + '/saveModule2Question/', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(() => {\n        // this.addQnDialog = false\n      })\n    }\n  },\n  computed: {\n    situationTextErrors () {\n      const errors = []\n      if (!this.$v.situationText.$dirty) return errors\n      !this.$v.situationText.required && errors.push('situation Text is required')\n      return errors\n    },\n    choice1Errors () {\n      const errors = []\n      if (!this.$v.choice1.$dirty) return errors\n      !this.$v.choice1.required && errors.push('choice1 Text is required')\n      return errors\n    },\n    choice1CommentErrors () {\n      const errors = []\n      if (!this.$v.choice1Comment.$dirty) return errors\n      !this.$v.choice1Comment.required && errors.push('situation Text is required')\n      return errors\n    },\n    choice1ImpactErrors () {\n      const errors = []\n      if (!this.$v.choice1Impact.$dirty) return errors\n      !this.$v.choice1Impact.required && errors.push('Choice1 Impact Text is required')\n      if(parseInt(this.choice1Impact) !== 0) {\n        if(this.choice1Impact[0] !== undefined) {\n          if (this.choice1Impact[0] !== \"-\" && this.choice1Impact[0] !== \"+\") {\n            errors.push(\"Impact must start with + or -\")\n          }\n          else if(!Number.isInteger(parseInt(this.choice1Impact[1]))) {\n            errors.push(\"Impact must be a number\")\n          }\n        }\n      }\n      return errors\n    },\n    choice2Errors () {\n      const errors = []\n      if (!this.$v.choice2.$dirty) return errors\n      !this.$v.choice2.required && errors.push('choice2 Text is required')\n      return errors\n    },\n    choice2CommentErrors () {\n      const errors = []\n      if (!this.$v.choice2Comment.$dirty) return errors\n      !this.$v.choice2Comment.required && errors.push('situation Text is required')\n      return errors\n    },\n    choice2ImpactErrors () {\n      const errors = []\n      if (!this.$v.choice2Impact.$dirty) return errors\n      !this.$v.choice2Impact.required && errors.push('choice2 Impact Text is required')\n      return errors\n    },\n    choice3Errors () {\n      const errors = []\n      if (!this.$v.choice3.$dirty) return errors\n      !this.$v.choice3.required && errors.push('choice3 Text is required')\n      return errors\n    },\n    choice3CommentErrors () {\n      const errors = []\n      if (!this.$v.choice3Comment.$dirty) return errors\n      !this.$v.choice3Comment.required && errors.push('situation Text is required')\n      return errors\n    },\n    choice3ImpactErrors () {\n      const errors = []\n      if (!this.$v.choice3Impact.$dirty) return errors\n      !this.$v.choice3Impact.required && errors.push('choice3 Impact Text is required')\n      return errors\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/components/questions"}]}